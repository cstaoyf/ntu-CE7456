%\documentclass{...}

\input{./def/yf-formatting}

\usepackage{amsfonts, amsmath, amssymb, amsthm}
\usepackage{comment}
\usepackage{graphicx}
\usepackage{ifthen}
\usepackage{latexsym}
%\usepackage{times}
\usepackage[normalem]{ulem}

\input{./def/yf-def}

\def\dom{\prec}
\def\T{\mathcal{T}}

\newboolean{solver}\setboolean{solver}{true}
%\newboolean{solver}\setboolean{solver}{false}
\ifthenelse{\boolean{solver}}{\includecomment{sol}}{\excludecomment{sol}}

\begin{document}

\section*{CE7456: Exercise List 1}
Prepared by Yufei Tao \\

% \begin{center}
%     \uline{Classroom Discussion}
% \end{center}

\boxminipg{0.95\linewidth}{
    These exercises are designed to help you practice the techniques taught. Attempt them ``at your own risk'' because they can be rather challenging.
    Solutions will not be provided in written form. However, I will be very happy to discuss approaches, key steps, and your attempted solutions with you.
}

\extraspacing {\bf Problem 1.} Let $P$ be a set of $n$ points in $[U]^2$, where $U$ is an integer that fits in a word (note: $[x]$ represents the set $\set{1, 2, ..., x}$). Given an axis-parallel rectangle $q = [x_1, x_2] \times [y_1, y_2]$, a {\em counting query} returns $|P \cap q|$. It is known that we can preprocess $P$ into a data structure of $O(n)$ space that can answer any counting query in $O(\log n)$ time.
\myitems{
    \item Describe how to construct a data structure of $O(n)$ space that, given any axis-parallel rectangle $q$, can report $|P \cap q|$ in $O((k + 1) \log n)$ time, where $k = |P \cap q|$. Note: the query time does not depend on $U$.

    \item Describe how to construct a data structure of $O(n)$ space that, given any axis-parallel rectangle $q$, can extract a point from $|P \cap q|$ uniformly at random in $O(\log^2 n)$ time.
}

\extraspacing {\bf Problem 2.}  Fix any real value $m > 0$. Let $X$ be a real-valued random variable whose support is $[0, m]$, and $Y$ be a uniformly random variable over $[0, m]$ (note: this is an interval of real values). Prove: if $X$ and $Y$ are independent, then $\Pr[Y \le X] = \fr{1}{m} \expt[X]$.

\extraspacing {\bf Problem 3.} (Weighted Set-Union Sampling)
Let $U$ be a set of elements, where each element $e \in U$ has a real-valued weight $w(e) > 0$. Define $W = \sum_{e \in U} w(e)$. Let $S_1, S_2, ..., S_m$ be $m \ge 2$ subsets of $U$ such that $\bigcup_{i=1}^m S_i = U$. Each $S_i$ ($i \in [m]$) supports three operations in constant time:
    \myenums{
        \item {({\em weight-sum})} return $\sum_{e \in S_i} w(e)$;
        \item {({\em membership})} check whether a given element is in $S_i$;
        \item {({\em weighted sampling})} return an element $X$ of $S_i$ such that $\Pr[X = e] = w(e) / \sum_{e' \in S_i} w(e')$ holds for each $e \in S_i$.
    }
    Describe an algorithm to perform weighted sampling from $U$ in $O(m)$ expected time --- that is, draw an element $X \in U$ such that $\Pr[X = e] = w(e) / W$ holds for each $e \in U$.



\end{document}
